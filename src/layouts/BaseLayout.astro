---
import { ViewTransitions } from "astro:transitions";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import "../styles/global.css";
import { getMetaImage } from "../scripts/utils";

interface Props {
  pageTitle: string;
  pageDescription?: string;
}

const { pageTitle, pageDescription } = Astro.props;
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <link rel="sitemap" href="/sitemap-index.xml" />
    <link
      rel="webmention"
      href="https://webmention.io/www.kevincunningham.co.uk/webmention"
    />
    <link
      rel="pingback"
      href="https://webmention.io/www.kevincunningham.co.uk/xmlrpc"
    />
    <link rel="me" href="https://hachyderm.io/@dolearning" /><link
      href="https://kevincunningham.co.uk/"
      rel="me"
    />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@dolearning" />
    <meta name="twitter:title" content={pageTitle} />
    <meta name="twitter:creator" content="Kevin Cunningham (@dolearning)" />
    <meta
      name="twitter:description"
      content={pageDescription || "Kevin Cunningham"}
    />
    <meta name="twitter:image" content={getMetaImage(pageTitle)} />

    <meta name="og:image:alt" content={pageDescription || "Kevin Cunningham"} />
    <meta property="og:title" content={pageTitle} /><meta
      property="og:description"
      content={pageDescription || "Kevin Cunningham"}
    /><meta property="og:image" content={getMetaImage(pageTitle)} /><meta
      property="og:url"
      content={Astro.url}
    /><title>{pageTitle}</title></head
  >

  <script
    id="plausible-script"
    strategy="afterInteractive"
    data-domain="kevincunningham.co.uk"
    src="https://plausible.io/js/plausible.outbound-links.js"></script>

  <ViewTransitions />

  <body>
    <div id="page-container">
      <Header />
      <div id="content-wrap">
        <slot />
      </div>
      <div id="footer">
        <Footer />
      </div>
    </div>
    <script>
      import "../scripts/menu.js";
    </script>
    <style>
      .title {
        font-weight: 700;
        text-align: center;
      }

      #page-container {
        position: relative;
        min-height: 100vh;
      }

      #content-wrap {
        padding-bottom: 2.5rem; /* Footer height */
      }

      #footer {
        position: absolute;
        bottom: 0;
        width: 100%;
        height: 2.5rem; /* Footer height */
      }
    </style>
  </body>
</html>
